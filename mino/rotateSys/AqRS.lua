--[[
kicktable={
R={ 0->R , R->2 , 2->L , L->0 },
L={ 0->L , R->0 , 2->R , L->2 },
F={ 0->2 , R->L , 2->0 , L->R }
}
]]
local T=myTable

local function getSymTable(table)--生成对称的踢墙表给对称的块用
    local newTable={R={{},{},{},{}},L={{},{},{},{}},F={{},{},{},{}}}

    if not table then return end
    if table.R.cp then newTable.L.cp={{},{},{},{}} end
    if table.L.cp then newTable.R.cp={{},{},{},{}} end
    for i=1,4 do
        local k=1+(1-i)%4
        for j=1,#table.R[k] do
            newTable.L[i][j]={-table.R[k][j][1],table.R[k][j][2]}
        end
        if table.R.cp then
            for j=1,#table.R.cp[i] do
                newTable.L.cp[i][j]={-table.R.cp[k][j][1],table.R.cp[k][j][2]}
            end
        end

        for j=1,#table.L[k] do
            newTable.R[i][j]={-table.L[k][j][1],table.L[k][j][2]}
        end
        if table.L.cp then
            for j=1,#table.L.cp[i] do
                newTable.R.cp[i][j]={-table.L.cp[k][j][1],table.L.cp[k][j][2]}
            end
        end

        for j=1,#table.F[i] do
            newTable.F[i][j]={-table.F[k][j][1],table.F[k][j][2]}
        end
    end
    return newTable
end

local AqRS={}--Aqua(mino) Rotation System

AqRS.checkPoint={--对于一些特殊的检测，会检测场上特定位置的坐标点。
    L={
        R={
            {-1, 1,-1, 2},--0->R
            {},--R->2
            {},--2->L
            {} --L->0
        },
    },
    J={
        L={
            { 1, 1, 1, 2},--0->L
            {},--R->0
            {},--2->R
            {} --L->2
        },
    },
    S={
        R={
            {-1, 1,-1, 2},--0->R
            {},--R->2
            {},--2->L
            {} --L->0
        },
        L={
            { 1, 0},--0->L
            {},--R->0
            {},--2->R
            {} --L->2
        },
    },
    Z={
        R={
            {-1, 0},--0->R
            {},--R->2
            {},--2->L
            {} --L->0
        },
        L={
            { 1, 1, 1, 2},--0->L
            {},--R->0
            {},--2->R
            {} --L->2
        },
    },
    T={
        R={
            {-1, 1},--0->R
            {},--R->2
            {},--2->L
            {} --L->0
        },
        L={
            { 1, 1},--0->L
            {},--R->0
            {},--2->R
            {} --L->2
        },
    },
    I={
        R={
            {-1.5, 1.5},--0->R
            {},--R->2
            {-1.5,  .5},--2->L
            {} --L->0
        },
        L={
            { 1.5, 1.5},--0->L
            {},--R->0
            { 1.5,  .5},--2->R
            {} --L->2
        },
    },

    --[[L5={
        R={
            {-1.5,  .5},--0->R
            {},--R->2
            {-1.5, 1.5},--2->L
            {} --L->0
        },
        L={
            { 1.5,  .5},--0->L
            {},--R->0
            { 1.5, 1.5},--2->R
            {} --L->2
        },
    },]]
}

AqRS.checkPoint.Q,AqRS.checkPoint.P=AqRS.checkPoint.L,AqRS.checkPoint.J

--AqRS.checkPoint.J5,AqRS.checkPoint.N, AqRS.checkPoint.H, AqRS.checkPoint.R, AqRS.checkPoint.Y
--=
--AqRS.checkPoint.L5,AqRS.checkPoint.L5,AqRS.checkPoint.L5,AqRS.checkPoint.L5,AqRS.checkPoint.L5

AqRS.kickTable={
    L={
        R={
            {{0,0},{-1, 0},{ 0, 1},{-1, 1},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{ 1, 1},{ 1, 0}},--0->R
            {{0,0},{ 1, 0},{ 1,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},{-1, 1},{-1, 0},{ 0,-1}},--R->2
            {{0,0},{ 1, 0},{ 1, 1},{ 0,-1},{ 1,-1},{ 0,-2},{ 1,-2},{-1,-1},{ 0, 1},{-1, 0}},--2->L
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 1,-1},{ 1, 0},{ 0, 2},{-1, 2},{-1, 1},{ 0, 1}},--L->0
            cp={
                {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},       { 0, 1},{ 1, 1},{ 1, 0}},--0->R
                {},--R->2
                {},--2->L
                {} --L->0
            }
        },
        L={
            {{0,0},{ 1, 0},{ 0, 1},{ 1, 1},{ 0,-2},{ 1,-2},{-1, 0},{-1, 1},{ 1,-1},{ 0,-1}},--0->L
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{-1,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},{-1, 0}},--R->0
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{-1, 1},{ 0,-2},{-1,-2},{ 1,-1},{ 0, 1},{ 1, 0}},--2->R
            {{0,0},{-1, 0},{-1,-1},{ 0,-1},{ 0, 2},{-1, 2},{ 0, 1},{-1, 1},{ 1, 1},{ 1, 0}},--L->2
        },
        F={
            {{0,0},{ 0, 1},{-1, 0},{ 1, 0},{ 1,-1},{ 1, 1},{ 0,-2},{ 2, 0},{-2, 0},{-2, 1},{ 2, 1},{ 0, 2}},--0->2
            {{0,0},{ 1, 0},{ 0, 1},{ 0,-1},{-1,-1},{ 1,-1},{-2, 0},{ 0,-2},{ 0, 2},{ 1, 2},{ 1,-2},{ 2, 0}},--R->L
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{-1, 1},{-1,-1},{ 0, 2},{-2, 0},{ 2, 0},{ 2,-1},{-2,-1},{ 0,-2}},--2->0
            {{0,0},{-1, 0},{ 0,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 2, 0},{ 0, 2},{ 0,-2},{-1,-2},{-1, 2},{-2, 0}} --L->R
        }
    },
    S={
        R={
            {{0,0},{-1, 0},{ 0, 1},{-1, 1},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{-2, 0},{ 1, 1},{ 1, 0}},--0->R
            {{0,0},{ 1, 0},{ 1,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{-1, 0},{ 0,-1}},--R->2
            {{0,0},{ 1, 0},{ 1, 1},{ 0,-1},{ 1,-1},{ 0,-2},{ 1,-2},{ 2, 0},{-1,-1},{ 0, 1},{-1, 0}},--2->L
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 1,-1},{ 1, 0},{ 0, 2},{-1, 2},{ 0,-2},{-1, 1},{ 0, 1}},--L->0
            cp={
                {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},       { 0, 1},{-2, 0},{ 1, 1},{ 1, 0}},--0->R
                {},--R->2
                {},--2->L
                {} --L->0
            }
        },
        L={
            {{0,0},{ 1, 0},{ 0, 1},{ 1, 1},{ 0,-2},{ 1,-2},{-1, 0},{-1, 1},{ 0, 2},{ 1,-1},{ 0,-1}},--0->L
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{-1,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 2, 0},{ 1, 1},{-1, 0}},--R->0
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{-1, 1},{ 0,-2},{-1,-2},{ 1,-1},{ 0,-2},{ 0, 1},{ 1, 0}},--2->R
            {{0,0},{-1, 0},{-1,-1},{ 0,-1},{ 0, 2},{-1, 2},{ 0, 1},{-1, 1},{-2, 0},{ 1, 1},{ 1, 0}},--L->2
            cp={
                {{0,0},        { 0,-2},{ 1,-2},{ 0, 1},        {-1, 0},{ -1, 1},{ 1,-1},{ 0, 2},{ 0,-1}},--0->L
                {},--R->0
                {},--2->R
                {} --L->2
            }
        },
        F={
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{-1,-1},{ 1,-1},{ 0,-2},{-2, 0},{ 2, 0},{ 0, 1}},--0->2
            {{0,0},{-1, 0},{ 0, 1},{ 0,-1},{-1, 1},{-1,-1},{-2, 0},{ 0, 2},{ 0,-2},{ 1, 0}},--R->L
            {{0,0},{ 0, 1},{ 1, 0},{-1, 0},{ 1, 1},{-1, 1},{ 0, 2},{ 2, 0},{-2, 0},{ 0,-1}},--2->0
            {{0,0},{ 1, 0},{ 0,-1},{ 0, 1},{ 1,-1},{ 1, 1},{ 2, 0},{ 0,-2},{ 0, 2},{-1, 0}},--L->R
        }
    },
    T={
        R={
            {{0,0},{-1, 0},{ 0, 1},{-1, 1},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{-2, 0},{ 1, 1},{ 1, 0}},--0->R
            {{0,0},{ 1, 0},{ 1,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{-1, 0},{ 0,-1}},--R->2
            {{0,0},{ 1, 0},{ 1, 1},{ 0,-1},{ 1,-1},{ 0,-2},{ 1,-2},{ 2, 0},{-1,-1},{ 0, 1},{-1, 0}},--2->L
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 1,-1},{ 1, 0},{ 0, 2},{-1, 2},{ 0,-2},{-1, 1},{ 0, 1}},--L->0
            cp={
                {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},       { 0, 1},{-2, 0},{ 1, 1},{ 1, 0}},--0->R
                {},--R->2
                {},--2->L
                {} --L->0
            }
        },
        L={
            {{0,0},{ 1, 0},{ 0, 1},{ 1, 1},{ 0,-1},{ 1,-1},{ 0,-2},{ 1,-2},{ 2, 0},{-1, 1},{-1, 0}},--0->L
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{-1,-1},{-1, 0},{ 0, 2},{ 1, 2},{ 0,-2},{ 1, 1},{ 0, 1}},--R->0
            {{0,0},{-1, 0},{-1, 1},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{-2, 0},{ 1,-1},{ 0, 1},{ 1, 0}},--2->R
            {{0,0},{-1, 0},{-1,-1},{ 0, 2},{-1, 2},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{ 1, 0},{ 0,-1}},--L->2
            cp={
                {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{ 0,-2},{ 1,-2},       { 0, 1},{-1, 1},{-1, 0}},--0->L
                {},--R->2
                {},--2->L
                {} --L->0
            }
        },
        FL={
            {{0,0},{ 0, 1},{-1, 0},{ 1, 0},{-1, 1},{ 1, 1},{ 0,-2},{-2, 0},{ 2, 0},{ 0, 2}},
            {{0,0},{ 1, 0},{ 0,-1},{ 0, 1},{ 1, 1},{ 1,-1},{-2, 0},{ 0,-2},{ 0, 2},{ 2, 0}},
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{ 1,-1},{-1,-1},{ 0, 2},{ 2, 0},{-2, 0},{ 0,-2}},
            {{0,0},{-1, 0},{ 0,-1},{ 0, 1},{-1, 1},{-1,-1},{ 2, 0},{ 0,-2},{ 0, 2},{-2, 0}}
        },
        FR={
            {{0,0},{ 0, 1},{ 1, 0},{-1, 0},{ 1, 1},{-1, 1},{ 0,-2},{ 2, 0},{-2, 0},{ 0, 2}},
            {{0,0},{ 1, 0},{ 0,-1},{ 0, 1},{ 1, 1},{ 1,-1},{-2, 0},{ 0,-2},{ 0, 2},{ 2, 0}},
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{-1,-1},{ 1,-1},{ 0, 2},{-2, 0},{ 2, 0},{ 0,-2}},
            {{0,0},{-1, 0},{ 0,-1},{ 0, 1},{-1, 1},{-1,-1},{ 2, 0},{ 0,-2},{ 0, 2},{-2, 0}}
        }
    },

    I={
        R={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{ 1, 0},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},{-2, 0},{-2,-1},{ 0,-1},{-1, 1},{-2,-1},{-1,-1},{-1, 0},{-1, 2},{-2, 2},{ 1,-1}},--0->R
            {{0,0},{-1, 0},{ 2, 0},{ 0,-1},{ 1,-1},{ 2,-1},{ 0, 2},{-1, 2},{ 0, 1},{-1, 1},{ 1, 1},{ 2, 1},{ 1, 2},{ 1, 0},{ 2, 2},{-1,-1}},--R->2
            {{0,0},{-1, 0},{ 0, 1},{ 1, 1},{ 2, 1},{ 2, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{ 1,-1},{ 2,-1},{ 1,-2},{ 1, 0},{-1, 1},{ 2,-2}},--2->L
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{ 0, 1},{ 0,-2},{ 1,-2},{-1,-1},{-1,-2},{-2, 0},{-2, 1},{-2,-1},{-1, 0},{-1, 1},{ 1, 1},{-2,-2}},--L->0
            cp={
            --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
                {{0,0},{ 1, 0},{-2,-1},{-1,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},        { 0,-1},{-1, 1},        {-1, 0},{-1, 2},        { 1,-1}},--0->R
                {},--R->2
                {{0,0},        { 0,-1},        { 0,-2},{-1,-2},{ 0, 1},{ 1, 1},{ 1, 2},{ 2, 0},{ 1,-1},{ 2,-1},{ 1,-2},{ 1, 0},        { 2,-2}},--2->L
                {} --L->0
            }
        },
        L={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{-1, 0},{ 0, 2},{-1, 2},{ 0, 1},{-1, 1},{ 2, 0},{ 2,-1},{ 0,-1},{ 1, 1},{ 2,-1},{ 1,-1},{ 1, 0},{ 1, 2},{ 2, 2},{-1,-1}},--0->L
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0, 1},{ 0,-2},{-1,-2},{ 1,-1},{ 1,-2},{ 2, 0},{ 2, 1},{ 2,-1},{ 1, 0},{ 1, 1},{-1, 1},{ 2,-2}},--R->0
            {{0,0},{ 1, 0},{ 0, 1},{-1, 1},{-2, 1},{-2, 0},{ 0,-1},{ 1,-1},{ 0,-2},{ 1,-2},{-1,-1},{-2,-1},{-1,-2},{-1, 0},{ 1, 1},{-2,-2}},--2->R
            {{0,0},{ 1, 0},{-2, 0},{ 0,-1},{-1,-1},{-2,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},{-1, 1},{-2, 1},{-1, 2},{-1, 0},{-2, 2},{ 1,-1}},--L->2
            cp={
            --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
                {{0,0},{-1, 0},{ 2,-1},{ 1,-1},{ 0, 2},{-1, 2},{ 0, 1},{-1, 1},        { 0,-1},{ 1, 1},        { 1, 0},{ 1, 2},        {-1,-1}},--0->L
                {},--L->2
                {{0,0},        { 0,-1},        { 0,-2},{ 1,-2},{ 0, 1},{-1, 1},{-1, 2},{-2, 0},{-1,-1},{-2,-1},{-1,-2},{-1, 0},        {-2,-2}},--2->R
                {} --R->0
            }
        },
        F={
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1},{ 0, 1}},
            {{0,0},{-1, 0},{ 0,-1},{ 0, 1},{-1,-1},{-1, 1},{ 1, 0}},
            {{0,0},{ 0, 1},{-1, 0},{ 1, 0},{-1, 1},{ 1, 1},{ 0,-1}},
            {{0,0},{ 1, 0},{ 0, 1},{ 0,-1},{ 1,-1},{ 1, 1},{-1, 0}}
        }
    },

    L5={
        R={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{ 1, 0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{ 0, 1},{-1, 1},{ 1, 1},{ 1, 2},{ 2, 0},{ 1,-1},{ 2,-1},{ 1,-2},{ 2,-2}},--0->R
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{ 1,-2},{ 0, 1},{ 1, 1},{-1, 1},{-2, 1},{-1, 0},{-2, 0},{-1,-1},{-2,-1},{-1,-2},{ 0,-2},{-2,-2}},--R->2
            {{0,0},{-1, 0},{ 1, 0},{ 0,-1},{ 1,-1},{-1,-1},{-2,-1},{ 0, 1},{ 1, 1},{ 0, 2},{ 1, 2},{-1, 2},{-1, 1},{-2, 1},{ 0,-2},{-2, 2}},--2->L
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0, 1},{-1, 2},{-1, 1},{ 1, 0},{ 1,-1},{ 2, 0},{ 2,-1},{ 1, 1},{ 2, 1},{ 0, 2},{ 1, 2},{ 2, 2}},--L->0
        },
        L={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{ 1,-2},{-1, 0},{-1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 0,-2},{-2, 0},{-2, 1},{-2,-1},{-1,-2},{-2,-2}},--0->L
            {{0,0},{ 1, 0},{-1, 0},{ 0,-1},{ 1,-1},{ 1, 1},{ 0, 2},{ 1, 2},{ 0, 1},{-1,-1},{-2, 0},{-1, 1},{-2,-1},{-2, 1},{-1, 2},{-2, 2}},--R->0
            {{0,0},{ 0,-1},{ 0, 1},{-1, 1},{-1, 0},{-1,-1},{ 2,-1},{ 1,-1},{ 0, 2},{-1, 2},{ 0, 1},{ 2, 0},{ 1, 1},{ 2, 1},{ 2, 1},{ 2, 2}},--2->R
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{ 1, 0},{ 1,-1},{ 0, 1},{-1, 1},{ 2, 1},{ 1, 1},{ 2, 0},{ 2,-1},{ 1,-2},{ 2,-2}},--L->2
        },
        F={
            {{0,0},{ 0,-1},{-1,-1},{ 1,-1},{ 0, 1},{-1, 0},{ 1, 0},{-1, 1},{ 1, 1}},
            {{0,0},{-1, 0},{-1, 1},{-1,-1},{ 1, 0},{ 0, 1},{ 0,-1},{ 1,-1},{ 1, 1}},
            {{0,0},{ 0, 1},{ 1, 1},{-1, 1},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1}},
            {{0,0},{ 1, 0},{ 1,-1},{ 1, 1},{-1, 0},{ 0,-1},{ 0, 1},{-1,-1},{-1, 1}},
        }
    },
    H={
        R={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{ 1, 0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{ 0, 1},{-1, 1},{ 1, 1},{ 1, 2},{ 2, 0},{ 1,-1},{ 2,-1},{ 1,-2},{ 2,-2}},--0->R
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{ 1,-2},{ 0, 1},{ 1, 1},{-1, 1},{-2, 1},{-1, 0},{-2, 0},{-1,-1},{-2,-1},{-1,-2},{ 0,-2},{-2,-2}},--R->2
            {{0,0},{-1, 0},{ 1, 0},{ 0,-1},{ 1,-1},{-1,-1},{-2,-1},{ 0, 1},{ 1, 1},{ 0, 2},{ 1, 2},{-1, 2},{-1, 1},{-2, 1},{ 0,-2},{-2, 2}},--2->L
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0, 1},{-1, 2},{-1, 1},{ 1, 0},{ 1,-1},{ 2, 0},{ 2,-1},{ 1, 1},{ 2, 1},{ 0, 2},{ 1, 2},{ 2, 2}},--L->0
        },
        L={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{ 1,-2},{-1, 0},{-1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 0,-2},{-2, 0},{-2, 1},{-2,-1},{-1,-2},{-2,-2}},--0->L
            {{0,0},{ 1, 0},{-1, 0},{ 0,-1},{ 1,-1},{ 1, 1},{ 0, 2},{ 1, 2},{ 0, 1},{-1,-1},{-2, 0},{-1, 1},{-2,-1},{-2, 1},{-1, 2},{-2, 2}},--R->0
            {{0,0},{ 0,-1},{ 0, 1},{-1, 1},{-1, 0},{-1,-1},{ 2,-1},{ 1,-1},{ 0, 2},{-1, 2},{ 0, 1},{ 2, 0},{ 1, 1},{ 2, 1},{ 2, 1},{ 2, 2}},--2->R
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{-1,-2},{ 1, 0},{ 1,-1},{ 0, 1},{-1, 1},{ 2, 1},{ 1, 1},{ 2, 0},{ 2,-1},{ 1,-2},{ 2,-2}},--L->2
        },
        F={
            {{0,0},{ 0,-1},{-1,-1},{ 1,-1},{ 0, 1},{-1, 0},{ 1, 0},{-1, 1},{ 1, 1}},
            {{0,0},{-1, 0},{-1, 1},{-1,-1},{ 1, 0},{ 0, 1},{ 0,-1},{ 1,-1},{ 1, 1}},
            {{0,0},{ 0, 1},{ 1, 1},{-1, 1},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1}},
            {{0,0},{ 1, 0},{ 1,-1},{ 1, 1},{-1, 0},{ 0,-1},{ 0, 1},{-1,-1},{-1, 1}},
        }
    },

    T5={
        R={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{ 0,-1},{-1, 0},{-1,-1},{ 1,-1},{ 0,-2},{ 1,-2},{ 1,-3},{ 0,-3},{ 0, 1},{ 0, 2},{ 1, 2},{ 1, 1},{ 0, 1},{-1, 2},{-1, 1}},--0->R
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{ 0,-2},{ 1,-2},{ 0,-1},{-1,-1},{ 0, 1},{-1, 1},{ 1, 1},{-1,-2}},                                --R->2
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{ 1, 2},{-1, 2}},                                --2->L
            {{0,0},{ 0,-1},{ 1,-1},{-1,-1},{-1, 0},{ 1, 0},{ 0,-2},{ 1,-2},{-1,-2},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 3},{ 1, 3},{ 0, 2},{ 1, 2}},--L->0
        },
        L={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{-1,-1},{ 0,-2},{-1,-2},{-1,-3},{ 0,-3},{ 0, 1},{ 0, 2},{-1, 2},{-1, 1},{ 0, 1},{ 1, 2},{ 1, 1}},--0->L
            {{0,0},{ 0,-1},{-1,-1},{ 1,-1},{ 1, 0},{-1, 0},{ 0,-2},{-1,-2},{ 1,-2},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 3},{-1, 3},{ 0, 2},{-1, 2}},--R->0
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{ 1,-1},{-1,-1},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{-1, 2},{ 1, 2}},                                --2->R
            {{0,0},{ 0,-1},{-1, 0},{-1,-1},{ 0,-2},{-1,-2},{ 0,-1},{ 1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 1,-2}},                                --L->2
        },
        F={
            {{0,0},{ 0, 1},{-1, 0},{ 1, 0},{-1, 1},{ 1, 1},{ 0,-2},{ 0,-1},{-1,-1},{ 1,-1},{ 0, 2}},
            {{0,0},{ 1, 0},{ 0,-1},{ 0, 1},{ 1,-1},{ 1, 1},{-2, 0},{-1, 0},{-1,-1},{-1, 1},{ 2, 0}},
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{-1,-1},{ 1,-1},{ 0, 2},{ 0, 1},{-1, 1},{ 1, 1},{ 0,-2}},
            {{0,0},{-1, 0},{ 0,-1},{ 0, 1},{-1,-1},{-1, 1},{ 2, 0},{ 1, 0},{ 1,-1},{ 1, 1},{-2, 0}},
        }
    },

    F={
        R={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13
            {{0,0},{ 0,-1},{-1, 0},{ 0, 1},{-1, 1},{ 1, 0},{ 1, 1},{ 0,-2},{-1,-2},{-1,-1},{ 1,-1},{ 0, 2},{-1, 2},{ 1,-2}},--0->R
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{-1, 0},{-1,-1},{ 0,-2},{-1,-2},{ 0, 1},{ 1, 1},{ 0, 2},{ 1, 2},{-1, 2},{-1, 1}},--R->2
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{-1, 0},{ 0,-2},{-1,-2},{-1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{ 1, 2},{ 1,-2}},--2->L
            {{0,0},{ 0,-1},{-1, 0},{-1,-1},{ 1, 0},{ 1,-1},{ 0,-2},{ 1,-2},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{-1, 2},{ 1, 2}},--L->0
        },
        L={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{-1, 0},{-1,-1},{ 0,-2},{ 1,-2},{-1,-2},{ 0, 1},{ 1, 1},{-1,-1},{ 0, 2},{-1, 2}},--0->L
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{-1, 0},{-1,-1},{ 0,-2},{ 0, 1},{-1, 1},{ 0, 2},{-1, 2},{ 1, 2},{ 1, 1},{ 1,-2}},--R->0
            {{0,0},{ 0,-1},{-1, 0},{-1,-1},{ 1, 0},{ 0, 1},{-1, 1},{ 0, 2},{-1, 2},{ 0,-2},{-1,-2},{ 1, 1},{ 1,-1},{ 1,-2}},--2->R
            {{0,0},{ 0,-1},{-1, 0},{-1,-1},{ 1, 0},{ 0, 1},{-1, 1},{ 0,-2},{-1,-1},{ 1,-1},{ 0, 2},{-1, 2},{ 1, 2},{ 1, 1}},--L->2
        },
        F={
            {{0,0},{-1, 0},{ 1, 0},{-1,-1},{ 1,-1},{ 0, 1},{ 0,-1},{ 0, 2},{ 0,-2},{-1, 1},{ 1, 1}},
            {{0,0},{ 0,-1},{ 0, 1},{ 1, 0},{-1, 0},{-1, 1},{-1,-1},{ 1, 1},{ 1,-1},{ 2, 0},{-2, 0}},
            {{0,0},{ 1, 0},{-1, 0},{ 1, 1},{-1, 1},{ 0,-1},{ 0, 1},{ 0,-2},{ 0, 2},{ 1,-1},{-1,-1}},
            {{0,0},{ 0,-1},{ 0, 1},{-1, 0},{ 1, 0},{ 1,-1},{ 1, 1},{-1,-1},{-1, 1},{-2, 0},{ 2, 0}},
        }
    },

    Z5={--Z5和S5翻转180°的形状相同，没有180°踢墙，翻转后和翻转前使用一套表
        R={
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{ 1, 2},{-1, 2}},--0->R
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{ 1,-1},{-1,-1},{ 0,-2},{ 1,-2},{-1,-2},{ 0, 1},{-1, 1},{ 1, 1}},--R->2
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{ 1, 2},{-1, 2}},--2->L
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{ 1,-1},{-1,-1},{ 0,-2},{ 1,-2},{-1,-2},{ 0, 1},{-1, 1},{ 1, 1}},--L->0
        },
        L={
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{ 1,-1},{-1,-1},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{-1, 2},{ 1, 2}},--0->L
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1},{ 0,-2},{-1,-2},{ 1,-2},{ 0, 1},{ 1, 1},{-1, 1}},--R->0
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{ 1,-1},{-1,-1},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{-1, 2},{ 1, 2}},--2->R
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{-1,-1},{ 1,-1},{ 0,-2},{-1,-2},{ 1,-2},{ 0, 1},{ 1, 1},{-1, 1}},--L->2
        },
        F={{{0,0}},{{0,0}},{{0,0}},{{0,0}},}
    },

    U={--结合了TLJ三块的表
        R={
            {{0,0},{ 0,-1},{-1,-1},{-1, 0},{ 0, 1},{-1, 1},{ 0,-2},{-1,-2},{-2, 0},{ 1, 1},{ 1, 0}},--0->R
            {{0,0},{ 1, 0},{ 1,-1},{ 0, 2},{ 1, 2},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{-1, 0},{ 0,-1}},--R->2
            {{0,0},{ 1, 0},{ 1,-1},{ 1, 1},{ 0,-1},{ 0,-2},{ 1,-2},{ 2, 0},{-1,-1},{ 0, 1},{-1, 0}},--2->L
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 1,-1},{ 1, 0},{ 0, 2},{-1, 2},{ 0,-2},{-1, 1},{ 0, 1}},--L->0
        },
        L={
            {{0,0},{ 0,-1},{ 1,-1},{ 1, 0},{ 0, 1},{ 1, 1},{ 0,-2},{ 1,-2},{ 2, 0},{-1, 1},{-1, 0}},--0->L
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{-1,-1},{-1, 0},{ 0, 2},{ 1, 2},{ 0,-2},{ 1, 1},{ 0, 1}},--R->0
            {{0,0},{-1, 0},{-1,-1},{-1, 1},{ 0,-1},{ 0,-2},{-1,-2},{-2, 0},{ 1,-1},{ 0, 1},{ 1, 0}},--2->R
            {{0,0},{-1, 0},{-1,-1},{ 0, 2},{-1, 2},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{ 1, 0},{ 0,-1}},--L->2
        },
        FL={
            {{0,0},{ 0, 1},{-1, 0},{ 1, 0},{-1, 1},{ 1, 1},{ 0,-2},{-2, 0},{-2,-1},{ 2, 0},{ 2,-1},{ 0, 2}},
            {{0,0},{ 1, 0},{ 0,-1},{ 0, 1},{ 1, 1},{ 1,-1},{-2, 0},{ 0,-2},{ 1,-2},{ 0, 2},{ 1, 2},{ 2, 0}},
            {{0,0},{ 0,-1},{ 1, 0},{-1, 0},{ 1,-1},{-1,-1},{ 0, 2},{ 2, 0},{ 2, 1},{-2, 0},{-2, 1},{ 0,-2}},
            {{0,0},{-1, 0},{ 0,-1},{ 0, 1},{-1, 1},{-1,-1},{ 2, 0},{ 0,-2},{-1,-2},{ 0, 2},{-1, 2},{-2, 0}},
        },
        FR={
            {{0,0},{ 0, 1},{ 1, 0},{-1, 0},{ 1, 1},{-1, 1},{ 0,-2},{ 2, 0},{-2, 0},{ 0, 2}},
            {{0,0},{ 1, 0},{ 0,-1},{ 0, 1},{ 1, 1},{ 1,-1},{-2, 0},{ 0,-2},{ 0, 2},{ 2, 0}},
            {{0,0},{ 0,-1},{-1, 0},{ 1, 0},{-1,-1},{ 1,-1},{ 0, 2},{-2, 0},{ 2, 0},{ 0,-2}},
            {{0,0},{-1, 0},{ 0,-1},{ 0, 1},{-1, 1},{-1,-1},{ 2, 0},{ 0,-2},{ 0, 2},{-2, 0}}
        },
    },
    I5={
    --      (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15      16      17      18      19      20      21      22      23      24
        R={
            {{0,0},{ 1, 0},{ 2, 0},{ 0,-1},{ 1,-1},{ 2,-1},{-1, 0},{-2, 0},{-1,-1},{-1,-2},{ 0,-2},{-2,-2},{-1,-2},{ 0, 2},{ 0, 1},{-1, 1},{-2, 1},{ 2, 2},{ 1, 2},{ 1, 1},{ 2, 1},{-1, 2},{-2, 2},{ 1,-2},{ 2,-2}},
            {{0,0},{ 0,-1},{-1,-1},{ 1,-1},{ 1, 0},{ 2, 0},{-1, 0},{-2, 0},{-2,-1},{ 2,-1},{ 0,-2},{ 2,-2},{ 1,-2},{ 0, 2},{ 0, 1},{ 1, 1},{ 2, 1},{-2, 2},{-1, 2},{-1, 1},{-2, 1},{ 1, 2},{ 2, 2},{-1,-2},{-2,-2}},
        },
        L={
            {{0,0},{-1, 0},{-2, 0},{ 0,-1},{-1,-1},{-2,-1},{ 1, 0},{ 2, 0},{ 1,-1},{ 1,-2},{ 0,-2},{ 2,-2},{ 1,-2},{ 0, 2},{ 0, 1},{ 1, 1},{ 2, 1},{-2, 2},{-1, 2},{-1, 1},{-2, 1},{ 1, 2},{ 2, 2},{-1,-2},{-2,-2}},
            {{0,0},{ 0,-1},{ 1,-1},{-1,-1},{-1, 0},{-2, 0},{ 1, 0},{ 2, 0},{ 2,-1},{-2,-1},{ 0,-2},{-2,-2},{-1,-2},{ 0, 2},{ 0, 1},{-1, 1},{-2, 1},{ 2, 2},{ 1, 2},{ 1, 1},{ 2, 1},{-1, 2},{-2, 2},{ 1,-2},{ 2,-2}},
        },
        F={{{0,0}},{{0,0}},}
    },

    W={--斜轴对称系
        R={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15      16
            {{0,0},{-1, 0},{ 0,-1},{-1,-1},{ 0,-2},{ 1, 0},{ 1,-1},{ 1,-2},{-1,-2},{-2, 0},{ 0, 1},{-1, 1},{ 2, 0},{ 1, 1},{ 0, 2},{ 1, 2},{-1, 2}},--0->R
            {{0,0},{ 1, 0},{ 1,-1},{ 0,-1},{ 0,-2},{ 1,-2},{-1,-2},{ 0,-1},{-1,-1},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{-1, 2},{ 1, 2}},                --R->2
            {{0,0},{ 1, 0},{ 1,-1},{ 0,-1},{-1, 0},{-1,-1},{ 0,-2},{-1,-2},{ 1,-2},{ 0, 1},{ 2, 0},{ 1, 1},{-2, 0},{-1, 1},{ 0, 2},{-1, 2},{ 1, 2}},--2->L
            {{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{-1, 0},{-1,-1},{ 0,-2},{-1,-2},{ 1,-2},{ 0, 1},{ 1, 1},{-1, 1},{ 0, 2},{ 1, 2},{-1, 2}},                --L->0
        },
        L={
        --   (0)     1       2       3       4       5       6       7       8       9      10      11      12      13      14      15      16
            {{0,0},{-1, 0},{-1,-1},{ 0,-1},{ 0,-2},{-1,-2},{ 1,-2},{ 0,-1},{ 1,-1},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{ 1, 2},{-1, 2}},                --0->L
            {{0,0},{ 1, 0},{ 0,-1},{ 1,-1},{ 0,-2},{-1, 0},{-1,-1},{-1,-2},{ 1,-2},{ 2, 0},{ 0, 1},{ 1, 1},{-2, 0},{-1, 1},{ 0, 2},{-1, 2},{ 1, 2}},--R->0
            {{0,0},{ 0,-1},{-1, 0},{-1,-1},{ 1, 0},{ 1,-1},{ 0,-2},{ 1,-2},{-1,-2},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2},{-1, 2},{ 1, 2}},                --2->R
            {{0,0},{-1, 0},{-1,-1},{ 0,-1},{ 1, 0},{ 1,-1},{ 0,-2},{ 1,-2},{-1,-2},{ 0, 1},{-2, 0},{-1, 1},{ 2, 0},{ 1, 1},{ 0, 2},{ 1, 2},{-1, 2}},--L->2
        },
        F={
            {{0,0},{ 0,-1},{ 1,-1},{-1,-1},{ 1, 0},{-1, 0},{ 0, 1},{-1, 1},{ 2,-2},{ 1, 1},{ 0, 2},{-2, 0}},
            {{0,0},{ 0,-1},{-1,-1},{ 1,-1},{-1, 0},{ 1, 0},{ 0, 1},{ 1, 1},{-2,-2},{-1, 1},{ 0, 2},{ 2, 0}},
            {{0,0},{-1, 0},{ 1, 0},{ 1,-1},{ 0,-1},{-1,-1},{ 0,-2},{ 0, 1},{ 1, 1},{ 2, 0},{-1,-1},{-2, 2}},
            {{0,0},{ 1, 0},{-1, 0},{-1,-1},{ 0,-1},{ 1,-1},{ 0,-2},{ 0, 1},{-1, 1},{-2, 0},{ 1,-1},{ 2, 2}},
        }
    },

    O={--嵌套少一层
        RT={{ 0,-1},{ 1,-1},{ 1,-2},{ 1, 0},{ 1, 1},{ 1, 2},{ 3, 0},{ 2,-1},{ 2,-2},{ 0, 1},{ 2, 1},{ 2, 2},{ 0, 3},{0,0}},
        RL={{ 1, 0},{ 1, 1},{ 1, 2},{ 3, 0},{ 2, 1},{0,0}},
        LT={{ 0,-1},{-1,-1},{-1,-2},{-1, 0},{-1, 1},{-1, 2},{-3, 0},{-2,-1},{-2,-2},{ 0, 1},{-2, 1},{-2, 2},{ 0, 3},{0,0}},
        LL={{-1, 0},{-1, 1},{-1, 2},{-3, 0},{-2, 1},{0,0}},
        FT={{ 0,-3},{0,0}},
        FL={{ 0,-1},{ 0,-3},{ 0, 3},{0,0}},
        default={{0,0}}
    },
    X={--嵌套少一层
        RT={{ 0,-1},{ 1,-1},{ 1,-2},{ 1, 0},{ 1, 1},{ 1, 2},{ 2, 0},{ 2,-1},{ 2,-2},{ 0, 1},{ 2, 1},{ 2, 2},{ 0, 2},{ 0, 3},{0,0}},
        RL={{ 1, 0},{ 1, 1},{ 1, 2},{ 2, 0},{0,0}},
        LT={{ 0,-1},{-1,-1},{-1,-2},{-1, 0},{-1, 1},{-1, 2},{-2, 0},{-2,-1},{-2,-2},{ 0, 1},{-2, 1},{-2, 2},{ 0, 2},{ 0, 3},{0,0}},
        LL={{-1, 0},{-1, 1},{-1, 2},{-2, 0},{0,0}},
        FT={{ 0,-2},{ 0,-3},{0,0}},
        FL={{ 0,-1},{ 0,-2},{ 0,-3},{ 0, 2},{ 0, 3},{0,0}},
        default={{0,0}}
    },


    other={--这里边没有的块，最起码能用
        R={{0,0},{ 0,-1},{ 1, 0},{ 1,-1},{-1,-1},{-1, 0},{ 0,-2},{ 0, 1},{ 1, 1},{ 2, 0},{-1, 1},{ 0, 2},{-2, 0}},
        L={{0,0},{ 0,-1},{-1, 0},{-1,-1},{ 1,-1},{ 1, 0},{ 0,-2},{ 0, 1},{-1, 1},{-2, 0},{ 1, 1},{ 0, 2},{ 2, 0}},
        F={{0,0},{ 0,-1},{-1,-1},{ 1,-1},{ 0,-2},{-1, 0},{ 1, 0},{ 0, 1},{-1, 1},{ 1, 1},{ 0, 2}}
    }
}
AqRS.kickTable.Z=getSymTable(AqRS.kickTable.S)
AqRS.kickTable.J=getSymTable(AqRS.kickTable.L)
--AqRS.kickTable.S=T.copy(AqRS.kickTable.L) AqRS.kickTable.Z=T.copy(AqRS.kickTable.J)

AqRS.kickTable.Q,AqRS.kickTable.P=AqRS.kickTable.L,AqRS.kickTable.J

AqRS.kickTable.J5=getSymTable(AqRS.kickTable.L5)
AqRS.kickTable.N=getSymTable(AqRS.kickTable.H)

AqRS.kickTable.Y=AqRS.kickTable.L5
AqRS.kickTable.R=AqRS.kickTable.J5

AqRS.kickTable.S5=getSymTable(AqRS.kickTable.Z5)
AqRS.kickTable.E=getSymTable(AqRS.kickTable.F)

AqRS.kickTable.V=AqRS.kickTable.W
--AqRS.kickTable.U=AqRS.kickTable.T

function AqRS.getData(data,player,fLib,ori,mode)
    data.uWall=fLib.coincide(player, 0, 1)
    data.dWall=fLib.coincide(player, 0,-1)
    data.lWall=fLib.coincide(player,-1, 0)
    data.rWall=fLib.coincide(player, 1, 0)

    data.checkPointOrder=nil
    local c,cn=player.cur,player.cur.name
    if AqRS.checkPoint[cn] and AqRS.checkPoint[cn][mode] then
        local cps=AqRS.checkPoint[cn][mode][ori]
        for j=1,#cps,2 do
            if not fLib.isAir(player,c.x+cps[j],c.y+cps[j+1]) or fLib.isLoosen(player,c.x+cps[j],c.y+cps[j+1]) then data.checkPointOrder=j return end
        end
    end
end
function AqRS.getKickTable(data,name,ori,mode)
    if data.checkPointOrder then return AqRS.kickTable[name][mode].cp[ori] end
    if name=='O' or name=='X' then
        if mode=='R' then
            if data.dWall then return AqRS.kickTable[name].RT
            elseif data.rWall then return AqRS.kickTable[name].RL
            end
        elseif mode=='L' then
            if data.dWall then return AqRS.kickTable[name].LT
            elseif data.lWall then return AqRS.kickTable[name].LL
            end
        elseif mode=='F' then
            if data.uWall then return AqRS.kickTable[name].FL
            elseif data.dWall then return AqRS.kickTable[name].FT
            end
        end
        return AqRS.kickTable[name]['default']
    elseif (name=='T' or name=='U') and mode=='F' then
        if data.lWall then return AqRS.kickTable[name].FL[ori]
        else return AqRS.kickTable[name].FR[ori] end
    elseif name=='I5' then return AqRS.kickTable[name][mode][(ori-1)%2+1]
    elseif AqRS.kickTable[name] then return AqRS.kickTable[name][mode][ori]
    else return AqRS.kickTable.other[mode]
    end
end
return AqRS